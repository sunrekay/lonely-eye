# Lonely eye
## Описание ([Техническое задание](https://github.com/RTUITLab/Recruit/blob/master/requirements/back/README.md))

<b>Тестовое задание</b> для работы в лаборатории <b>РТУ МИРЭА "RTUITLab"</b>

Проект реализован на __FastApi__, в качестве инструментов для работы с СУБД были выбраны __SQLAlchemy__ и __Alembic__. Фотографии работников и правонарушений сохраняются в __YandexStorage__ с помощью библиотеки __boto3__, которая через API связывается с бакетами. Полученная фотография, перенаправляется в файловое хранилище, а вместо того что бы получать фотографию, генерируется ссылка на нее со сроком годности. Так как генерация ссылки занимает около 0,7 секунды, то она кэшируется с помощью __Redis__. Он также кэширует Refresh токен, который используется в выпуске новых Access и Refresh токенов. Тестирование происходит с помощью библиотеки __pytest__.

### Что реализованно:
- [x] __Загрузка фотографии__
- [x] __Контактные данные__
- [x] __Правонарушения__
- [x] __Обработка фотографии__
- [ ] __Рейтинг__
- [ ] __Обучение__
- [ ] __Отправка штрафа__
- [x] __Пользователи__
- [x] __Настройка приложения__



### База данных (типы полей могут отличаться от реальных)
![image](https://github.com/sunrekay/lonely-eye/assets/73135012/d5c8227b-6190-407d-85c2-05f97b6bf954)

## Запуск
1. Склонируйте репозиторий:
```
git clone https://github.com/sunrekay/lonely-eye
```
2. Перейдите в него:
```
cd lonely-eye
```
3. Смените имя: ".env-example" -> ".env"

4. Соберите контейнеры:
```
docker compose build
```
5. Запустите:
```
docker compose up
```
6. Перейти по ссылке: http://127.0.0.1:8000/docs

